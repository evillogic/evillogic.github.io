<!doctype html><html lang=en><head><title>Overriding Windows TrustedInstaller Permissions &ndash; wooper blog</title>
<meta name=description content="very serious intellectual thoughts /s"><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.1/css/academicons.min.css integrity="sha512-b1ASx0WHgVFL5ZQhTgiPWX+68KjS38Jk87jg7pe+qC7q9YkEtFq0z7xCglv7qGIs/68d3mAp+StfC8WKC5SSAg==" crossorigin=anonymous><link rel=stylesheet href=https://blog.kazam.io/css/colour/wooper.css><link rel=stylesheet href=https://blog.kazam.io/css/colour/wooper-mode.css><link rel=stylesheet href=https://blog.kazam.io/css/risotto.css><link rel=stylesheet href=https://blog.kazam.io/css/custom.css></head><body><div class=page><header class=page__header><h1 class=page__logo><a href=https://blog.kazam.io class=page__logo-inner>wooper blog</a></h1><nav class="page__nav main-nav"><ul><li class=main-nav__item><a class=nav-main-item href=/about/ title>About</a></li><li class=main-nav__item><a class=nav-main-item href=/notes/ title=Notes>Notes</a></li><li class=main-nav__item><a class="nav-main-item active" href=/posts/ title=Posts>Posts</a></li></ul></nav></header><section class=page__body><header class=content__header><h1>Overriding Windows TrustedInstaller Permissions</h1></header><div class=content__body><p>tl;dr<br>For a single file, all you have to do is:</p><p><code>takeown /F C:\FULL_PATH_TO_FILE</code><br><code>icacls C:\FULL_PATH_TO_FILE /grant Administrators:F</code></p><p>For an entire directory, it’s a bit longer:</p><p><code>takeown /F C:\FULL_PATH_TO_FOLDER</code><br><code>takeown /F C:\FULL_PATH_TO_FOLDER /r /d y</code><br><code>icacls C:\FULL_PATH_TO_FOLDER /grant Administrators:F</code><br><code>icacls C:\FULL_PATH_TO_FOLDER /grant Administrators:F /t</code></p><p>Basically, this can be used to modify and overwrite Windows’s system files and other things you’re not supposed to touch. This can also be done from the GUI by assigning yourself to be the owner of the file, applying the change, closing the window, opening the permissions again, elevating to admin, and finally setting the permissions you would like.</p><p><a href=https://web.archive.org/web/20220520135811/https://merabheja.com/solved-failed-to-enumerate-objects-in-the-container-windows-10-error/>Credit to Micah</a> in the comments.</p></div><footer class=content__footer></footer></section><section class=page__aside><div class=aside__about><div class=aside__about><img class=about__logo src=https://blog.kazam.io/images/sk8r-wooper.png alt=Logo><h1 class=about__title>wooper blog</h1><p class=about__description>very serious intellectual thoughts /s</p></div><ul class=aside__social-links><li><a href=https://github.com/evillogic rel=me aria-label=GitHub title=GitHub><i class="fab fa-github" aria-hidden=true></i></a>&nbsp;</li><li><a href=mailto:evillogic1@gmail.com rel=me aria-label=Email title=Email><i class="fas fa-envelope" aria-hidden=true></i></a>&nbsp;</li><li><a href=#ZgotmplZ rel=me aria-label="Happy Hacking!" title="Happy Hacking!"><i class="ai ai-arxiv" aria-hidden=true></i></a>&nbsp;</li></ul></div><hr><div class=aside__content><p>How to bypass or override Windows TrustedInstaller to write files to System32</p><p>2019-07-29</p></div></section><footer class=page__footer><p class=copyright>© 2024 Kaz Bishop</p><p class=advertisement>Powered by <a href=https://gohugo.io/>hugo</a> and <a href=https://github.com/joeroe/risotto>risotto</a>.</p><script defer language=javascript type=text/javascript src=/js/copy.js></script></footer></div></body></html>